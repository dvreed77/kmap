(this["webpackJsonphex-map"]=this["webpackJsonphex-map"]||[]).push([[0],{160:function(t,e,n){t.exports=n(233)},165:function(t,e,n){},233:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),i=n(2),c=n.n(i),o=(n(165),n(166),n(153)),l=n(3),u=n(151),s=n(41),h=n(16),f=n(94),m=n(95),d=n(24),v=n(118),g=n.n(v),p=n(234),b=g.a.mark(E),y=Math.sqrt(3),k=function(t){return!!(t%2)};function E(t,e){var n,a,r,i,c,o,l;return g.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:console.log("nCols",t),console.log("nRows",e),k(t)?(n=-(t+1)/2,a=(t+1)/2-1):(n=-t/2-1,a=t/2),console.log("cStart->cEnd",n,a),k(e)?(r=-(e+1)/2+1,i=(e+1)/2):(r=-e/2,i=e/2),console.log("rStart-rEnd",r,i),c=0,o=n;case 8:if(!(o<=a)){u.next=20;break}l=r;case 10:if(!(l<=i)){u.next=17;break}return u.next=13,[c,o,l];case 13:c++;case 14:l++,u.next=10;break;case 17:o++,u.next=8;break;case 20:case"end":return u.stop()}}),b)}var O=function(t,e){this.nCols=t,this.nRows=e,this.cWidth=null,this.cHeight=null,this.hexDims={},this.qTree=Object(d.b)().x((function(t){return t.x})).y((function(t){return t.y})),this.setWidth=function(t){this.cWidth=t;var e=this.cWidth/this.nCols,n=e/2,a=n/y,r=2*a;return this.hexDims={hexWidth:e,G:n,F:a,H:r},this.cHeight=this.nRows*(a+r),{width:this.cWidth,height:this.cHeight}},this.generateGrid=function(){var n=[],a=!0,r=!1,i=void 0;try{for(var c,o=E(t,e)[Symbol.iterator]();!(a=(c=o.next()).done);a=!0){var u=c.value,s=Object(l.a)(u,3),h=s[0],f=s[1],m=s[2],d=void 0,v=void 0,g=m;k(m)?(d=(m+1)/2+f,v=(1-m)/2+f):(d=m/2+f,v=f-m/2);for(var p=0;p<6;p++){var b=p,y=this.convertPt({i:f,j:m,d:p}),O=Object(l.a)(y,2),P=O[0],j=O[1];n.push({idx:"".concat(h,".").concat(p),i:f,j:m,ant:d,bat:v,cat:g,dog:b,x:P,y:j})}}}catch(x){r=!0,i=x}finally{try{a||null==o.return||o.return()}finally{if(r)throw i}}return this.qTree.addAll(n),n},this.convertPt=function(t){var e=t.ant,n=(t.bat,t.cat),a=t.dog,r=t.i,i=t.j,c=t.d;Object(p.a)(i)&&(i=n),Object(p.a)(r)&&(r=k(i)?e-(i+1)/2:e-i/2),Object(p.a)(c)&&(c=a);var o,l,u=this.hexDims,s=u.hexWidth,h=u.F,f=u.G,m=u.H,d=k(i)?r*s+s/2:r*s,v=i*(h+m);if(0===c)o=0,l=0;else{var g=(-30*c+150)*Math.PI/180;k(c)?(o=f*Math.cos(g),l=-f*Math.sin(g)):(o=m*Math.cos(g),l=-m*Math.sin(g))}return[d+o,v+l]}},P=Math.sqrt(3),j=function(t){return!!(t%2)},x=n(51),w=n(119),M=n(248),S=function(){function t(){Object(f.a)(this,t),this.kPoints=[],this.lines=[];var e=d.b().x((function(t){return t.x})).y((function(t){return t.y}));this.qTree=e}return Object(m.a)(t,[{key:"intitialize",value:function(t,e){this.width=t,this.height=e,this.setup()}},{key:"setup",value:function(){this.F=20,this.H=2*this.F,this.G=P*this.F,this.HEX_W=2*this.G,this.N_HEX_COLS=Math.ceil(this.width/this.HEX_W),this.N_HEX_ROWS=Math.ceil(this.height/(this.F+this.H)),this.genGrid()}},{key:"createKPoint",value:function(t){return Array.isArray(t)&&4===t.length&&(t=Object(w.zipObject)(["ant","bat","cat","dog"],t)),Object(w.find)(this.kPoints,t)}},{key:"genGrid",value:function(){var t=[],e=[],n=!0,a=!1,r=void 0;try{for(var i,c=E(this.N_HEX_COLS,this.N_HEX_ROWS)[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var o=i.value,u=Object(l.a)(o,3),s=u[0],h=u[1],f=u[2],m=void 0,d=void 0,v=void 0;j(f)?(m=h*this.HEX_W+this.HEX_W/2,d=(f+1)/2+h,v=(1-f)/2+h):(m=h*this.HEX_W,d=f/2+h,v=h-f/2);for(var g=0;g<6;g++){var p=f,b=g,y=f*(this.F+this.H),k=void 0,O=void 0;if(0===g)k=0,O=0;else{var P=(-30*g+150)*Math.PI/180;j(g)?(k=this.G*Math.cos(P),O=-this.G*Math.sin(P)):(k=this.H*Math.cos(P),O=-this.H*Math.sin(P))}var x=m+k,w=y+O;t.push(C({idx:"".concat(s,".").concat(g),i:h,j:f,x:x,y:w,ant:d,bat:v,cat:p,dog:b},this));for(var M=0;M<12;M++){var S=2*M*Math.PI/12,K=void 0,N=void 0;M%2?(K=this.H*Math.cos(S),N=-this.H*Math.sin(S)):(K=this.G*Math.cos(S),N=-this.G*Math.sin(S)),e.push([[m,y],[m+K,y+N]])}for(var G=0;G<6;G++){var H=(-30*G+150)*Math.PI/180,A=(-30*(G+1)+150)*Math.PI/180,F=void 0,T=void 0,W=void 0,B=void 0;G%2?(F=this.G*Math.cos(H),T=-this.G*Math.sin(H),W=this.H*Math.cos(A),B=-this.H*Math.sin(A)):(F=this.H*Math.cos(H),T=-this.H*Math.sin(H),W=this.G*Math.cos(A),B=-this.G*Math.sin(A)),e.push([[m+F,y+T],[m+W,y+B]])}}}}catch(I){a=!0,r=I}finally{try{n||null==c.return||c.return()}finally{if(a)throw r}}this.qTree.addAll(t),this.kPoints=t,this.lines=e}},{key:"getGrid",value:function(){return{pts:this.kPoints,lines:this.lines}}}]),t}(),C=function(t,e){return t.rotate=function(n){var a=t.x,r=t.y,i=Math.sqrt(Math.pow(a,2)+Math.pow(r,2)),c=Math.atan2(r,a)+n,o=i*Math.cos(c),l=i*Math.sin(c);return e.qTree.find(o,l)},t.translate=function(n){var a=n.dAnt,r=void 0===a?0:a,i=n.dBat,c=void 0===i?0:i,o=n.dCat,l=void 0===o?0:o,u=n.dDog,s=void 0===u?0:u;return e.createKPoint({ant:t.ant+r,bat:t.bat+c,cat:t.cat+l,dog:t.dog+s})},t},K=function(){function t(e,n){Object(f.a)(this,t),this.kPoints=e,this.color=n}return Object(m.a)(t,[{key:"tMat",value:function(){var t=this.color.hull,e=this.kPoints,n=t.slice(0,3).map((function(t){return[t.x,t.y]})),a=e.slice(0,3).map((function(t){return[t.x,t.y]}));return Object(x.c)(n,a)}},{key:"copy",value:function(){return new t(this.kPoints,this.color)}},{key:"rotate",value:function(t){return this.kPoints=this.kPoints.map((function(e){return e.rotate(t)})),this}},{key:"translate",value:function(t){return this.kPoints=this.kPoints.map((function(e){return e.translate(t)})),this}},{key:"position",value:function(t){var e=t.ant,n=t.bat,a=t.cat,r=e-this.kPoints[0].ant,i=n-this.kPoints[0].bat,c=a-this.kPoints[0].cat;return this.kPoints=this.kPoints.map((function(t){return t.translate({dAnt:r,dBat:i,dCat:c})})),this}},{key:"center",value:function(){var t=Math.min.apply(Math,Object(h.a)(this.kPoints.map((function(t){return t.ant})))),e=Math.min.apply(Math,Object(h.a)(this.kPoints.map((function(t){return t.bat})))),n=Math.min.apply(Math,Object(h.a)(this.kPoints.map((function(t){return t.cat})))),a=Math.max.apply(Math,Object(h.a)(this.kPoints.map((function(t){return t.ant})))),r=Math.max.apply(Math,Object(h.a)(this.kPoints.map((function(t){return t.bat})))),i=Math.max.apply(Math,Object(h.a)(this.kPoints.map((function(t){return t.cat}))));return this.kPoints=this.kPoints.map((function(c){return c.translate({dAnt:-(t+a)/2,dBat:-(e+r)/2,dCat:-(n+i)/2})})),this}},{key:"pathString",value:function(t){var e=d.a(),n=this.kPoints.map((function(t){return[t.x,t.y]})),a=t?Object(x.a)(t,n):n;return a.length&&(e.moveTo(a[0][0],a[0][1]),a.forEach((function(t){var n=Object(l.a)(t,2),a=n[0],r=n[1];return e.lineTo(a,r)})),e.closePath()),e.toString()}}]),t}(),N=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(f.a)(this,t),this.kPolygons=e,this.hull=n}return Object(m.a)(t,[{key:"add",value:function(t){this.kPolygons.push(t)}},{key:"copy",value:function(){return new t(this.kPolygons.map((function(t){return t.copy()})))}},{key:"rotate",value:function(t){return this.kPolygons=this.kPolygons.map((function(e){return e.rotate(t)})),this}},{key:"hullString",value:function(){var t=this.kPolygons.flatMap((function(t){return t.kPoints.map((function(t){return t}))})),e=Object(M.a)(t.map((function(t){return[t.x,t.y,t.idx]})));console.log(t,e,t.find((function(t){return"96.0"===t.idx})));var n=d.a();return this.hull.length&&(n.moveTo(this.hull[0].x,this.hull[0].y),this.hull.forEach((function(t){return n.lineTo(t.x,t.y)})),n.closePath()),n.toString()}},{key:"translate",value:function(t){return this.kPolygons=this.kPolygons.map((function(e){return e.translate(t)})),this}}]),t}(),G=S,H={base:"#F2FBFD",dark:"#002C3E",a1:"#049DD9",a2:"#04B2D9",highlight:"#F20544",highlight_dull:"#FB93AF",A:"#F2528D",B:"#1C418C",C:"#F2B705",D:"#F29F05",E:"#F2C2C2"},A=r.a.memo((function(t){var e=t.lines;return r.a.createElement(r.a.Fragment,null,e.map((function(t,e){return r.a.createElement("line",{key:e,x1:t[0][0],y1:t[0][1],x2:t[1][0],y2:t[1][1],stroke:"#eee"})})))})),F=r.a.memo((function(t){var e=t.points,n=t.activePoint;return r.a.createElement(r.a.Fragment,null,e.map((function(t,e){return r.a.createElement("circle",{key:e,cx:t.x,cy:t.y,r:3,fill:t===n?H.highlight:"#ddd"})})))})),T=function(t){for(var e=new K([t.createKPoint([1,0,1,0]),t.createKPoint([0,-1,1,0]),t.createKPoint([-1,-1,0,0]),t.createKPoint([-1,0,-1,0]),t.createKPoint([0,1,-1,0]),t.createKPoint([1,1,0,0])],H.A),n=new K([t.createKPoint([-2,2,-4,0]),t.createKPoint([-2,0,-2,0]),t.createKPoint([0,2,-2,0])],H.B),a=new K([t.createKPoint([-1,1,-2,0]),t.createKPoint([-2,0,-2,0]),t.createKPoint([-2,-1,-1,0]),t.createKPoint([-1,-1,0,3]),t.createKPoint([-1,0,-1,0]),t.createKPoint([-1,0,-1,5])],H.C),r=[e,n,a],i=1;i<6;i++)r.push(a.copy().rotate(60*i*Math.PI/180));for(var c=1;c<3;c++)r.push(n.copy().rotate(120*c*Math.PI/180));return new N(r,[t.createKPoint([-2,-4,2,0]),t.createKPoint([-2,2,-4,0]),t.createKPoint([4,2,2,0])])},W=[[-3,-2,-1,4],[-3,-1,-2,0],[-1,1,-2,0],[-1,0,-1,4],[-1,0,-1,2],[-2,-1,-1,4],[-2,-1,-1,2]],B=[[-2,-2,0,0],[-2,-2,0,1],[-2,-2,0,2],[-3,-2,-1,4],[-2,-1,-1,0],[-2,-1,-1,5],[-1,-1,0,2]],I=[[-2,-2,0,0],[-1,-1,0,2],[0,0,0,0]],D=[[0,0,0,0],[-1,-1,0,2],[-2,-1,-1,5],[-1,0,-1,0],[-1,0,-1,4],[0,0,0,2],[0,0,0,3]],R=[[-3,-2,-1,4],[-2,-1,-1,2],[-2,-1,-1,4],[-1,0,-1,2],[-1,0,-1,4],[-1,0,-1,0],[-2,-1,-1,0]],q=function(t){var e=new K(W.map((function(e){return t.createKPoint(e)})),H.A),n=new K(B.map((function(e){return t.createKPoint(e)})),H.B),a=new K(I.map((function(e){return t.createKPoint(e)})),H.C),r=new K(D.map((function(e){return t.createKPoint(e)})),H.D),i=new K(R.map((function(e){return t.createKPoint(e)})),H.E);return new N([e,n,a,r,i],[t.createKPoint([-2,-2,0,0]),t.createKPoint([-4,-2,-2,0]),t.createKPoint([0,2,-2,0]),t.createKPoint([0,0,0,0])])},_=function(t){var e=T(t),n=new K([[0,1,-1,0],[0,2,-2,0],[2,2,0,0],[1,1,0,0]].map((function(e){return t.createKPoint(e)})),q(t)),a=[new K([t.createKPoint([0,0,0,0]),t.createKPoint([0,1,-1,0]),t.createKPoint([1,1,0,0])],e),n],r=new N(a,[[0,0,0,0],[2,2,0,0],[0,2,-2,0]].map((function(e){return t.createKPoint(e)})));return new K([[0,0,0,0],[2,2,0,0],[0,2,-2,0]].map((function(e){return t.createKPoint(e)})),r)},X=function(t){for(var e=[_(t)],n=1;n<6;n++)e.push(e[0].copy().rotate(60*n*Math.PI/180));return new K([[2,2,0,0],[0,2,-2,0],[-2,0,-2,0],[-2,-2,0,0],[0,-2,2,0],[2,0,2,0]].map((function(e){return t.createKPoint(e)})),new N(e,[[2,2,0,0],[0,2,-2,0],[-2,0,-2,0],[-2,-2,0,0],[0,-2,2,0],[2,0,2,0]].map((function(e){return t.createKPoint(e)}))))},L=(r.a.memo((function(t){var e=t.kPolygonGroup;t.drawHull;return r.a.createElement("g",null,e.kPolygons.map((function(t,n){return r.a.createElement(L,{key:n,kPolygon:t,tMat:e.tMat})})))})),r.a.memo((function(t){var e,n=t.kPolygon,a=t.tMat;return n.color instanceof N?(e=a?Object(x.b)([a,n.tMat()]):n.tMat(),r.a.createElement(r.a.Fragment,null,n.color.kPolygons.map((function(t,n){return r.a.createElement(L,{key:n,kPolygon:t,tMat:e})})))):r.a.createElement("path",{d:n.pathString(a),fill:n.color,fillOpacity:1,stroke:"black",strokeWidth:3,strokeLinejoin:"round"})}))),z=function(t){var e=t.mouseOver,n=Object(a.useRef)(null),i=Object(a.useState)({width:800,height:500}),c=Object(l.a)(i,1)[0],o=Object(a.useState)(null),u=Object(l.a)(o,2),s=u[0],f=u[1],m=Object(a.useState)([]),d=Object(l.a)(m,2),v=(d[0],d[1]),g=Object(a.useState)([]),p=Object(l.a)(g,2),b=(p[0],p[1]),y=Object(a.useState)(new G),k=Object(l.a)(y,1)[0],E=Object(a.useState)([]),O=Object(l.a)(E,2),P=O[0],j=O[1],x=Object(a.useState)([]),w=Object(l.a)(x,2),M=w[0],S=w[1],C=function(t){var a=t.x,r=t.y,i=n.current.getBoundingClientRect(),o=i.x,l=i.y,u=k.qTree.find(a-o-c.width/2,r-l-c.height/2);u&&u!==s&&(f(u),e(u))},A=Object(a.useCallback)((function(t){var e=t.x,a=t.y,r=n.current.getBoundingClientRect(),i=r.x,o=r.y,l=k.qTree.find(e-i-c.width/2,a-o-c.height/2);S([].concat(Object(h.a)(M),[l]))}),[M]),F=function(t){"c"===t.key&&S([])};return Object(a.useEffect)((function(){var t=n.current.clientWidth,e=n.current.clientHeight;console.log("KGRID init"),k.intitialize(t,e);for(var a=n.current,r=new K([[-5,-6,1,4],[-5,-6,1,2],[-7,-5,-2,4],[-6,-4,-2,2],[-4,-3,-1,4],[-3,-3,0,2]].map((function(t){return k.createKPoint(t)})),H.E),i=new N([r],[[-5,-6,1,0],[-7,-4,-3,0],[-3,-2,-1,0]].map((function(t){return k.createKPoint(t)}))),c=[new K([[1,1,0,0],[2,3,-1,0],[3,2,1,0]].map((function(t){return k.createKPoint(t)})),i)],o=1;o<6;o++)c.push(c[0].copy().rotate(60*o*Math.PI/180));j([X(k),X(k).copy().translate({dAnt:-4,dBat:-2,dCat:-2}),X(k).copy().translate({dAnt:-2,dBat:-4,dCat:2}),X(k).copy().translate({dAnt:4,dBat:2,dCat:2}),X(k).copy().translate({dAnt:2,dBat:4,dCat:-2}),X(k).copy().translate({dAnt:2,dBat:-2,dCat:4})].concat(c));var l=k.getGrid(),u=l.pts,s=l.lines;return v(u),b(s),a.addEventListener("mousemove",C),window.addEventListener("keypress",F),function(){a.removeEventListener("mousemove",C),window.removeEventListener("keypress",F)}}),[]),Object(a.useEffect)((function(){var t=n.current;return t.addEventListener("click",A),function(){t.removeEventListener("click",A)}}),[A]),r.a.createElement("div",null,JSON.stringify(M.map((function(t){return[t.ant,t.bat,t.cat,t.dog]}))),r.a.createElement("svg",{ref:n,width:c.width,height:c.height},r.a.createElement("g",{transform:"translate(".concat(c.width/2,", ").concat(c.height/2,")")},P.map((function(t,e){return r.a.createElement(L,{key:e,kPolygon:t})})))))},V=n(30),J=n(150),Y=(n(128),n(92)),Q=(n(129),n(21)),U=function(t){return new K([[3,4,-1,0],[2,4,-2,0],[2,5,-3,0],[3,6,-3,0],[4,6,-2,0],[4,5,-1,0]].map((function(e){return t.createKPoint(e)})),"red")},Z=r.a.memo((function(t){var e,n=t.kPolygon,i=t.tMat,c=t.setActive,o=t.setState,u=Object(a.useState)(!1),s=Object(l.a)(u,2),h=s[0],f=s[1],m=Object(a.useState)(!1),d=Object(l.a)(m,2),v=d[0],g=d[1],p=r.a.createElement(Q.a,null,r.a.createElement(Q.a.Item,{key:"1",onClick:function(){return o("MOVE")}},"move"),r.a.createElement(Q.a.Item,{key:"2"},"duplicate"));return n.color instanceof N?(e=i?Object(x.b)([i,n.tMat()]):n.tMat(),r.a.createElement(r.a.Fragment,null,n.color.kPolygons.map((function(t,n){return r.a.createElement(Z,{key:n,kPolygon:t,tMat:e})})))):r.a.createElement(Y.a,{overlay:p,trigger:["contextMenu"]},r.a.createElement("path",{d:n.pathString(i),fill:v?"red":h?"orange":n.color,fillOpacity:.4,stroke:"black",strokeWidth:3,strokeLinejoin:"round",onMouseOver:function(){f(!0)},onMouseLeave:function(){f(!1)},onClick:function(t){t.stopPropagation(),g(!v),c()}}))})),$=function(t){var e=t.className,n=t.onClick,i=t.drawingPoly,c=Object(a.useRef)(null),o=Object(a.useState)({width:800,height:500}),u=Object(l.a)(o,2),s=u[0],f=u[1],m=Object(a.useState)(null),v=Object(l.a)(m,2),g=v[0],p=(v[1],Object(a.useState)([])),b=Object(l.a)(p,2),y=b[0],k=b[1],E=Object(a.useState)(null),O=Object(l.a)(E,2),P=O[0],j=O[1],x=Object(a.useState)([]),w=Object(l.a)(x,2),M=w[0],S=w[1],C=Object(a.useState)(new G),K=Object(l.a)(C,1)[0],N=Object(a.useState)([]),H=Object(l.a)(N,2),T=H[0],W=H[1],B=Object(a.useState)([]),I=Object(l.a)(B,2),D=I[0],R=(I[1],Object(a.useState)(null)),q=Object(l.a)(R,2),_=q[0],X=q[1];Object(a.useEffect)((function(){var t=c.current.parentNode.clientWidth,e=c.current.clientHeight;f({width:t,height:e})}),[c]),Object(a.useEffect)((function(){var t=s.width,e=s.height;K.intitialize(t,e);var n=K.getGrid(),a=n.pts,r=n.lines;W([U(K),U(K).center()]),k(a),S(r)}),[]);var L=d.a(),z=D.map((function(t){return[t.x,t.y]}));z.length&&(L.moveTo(z[0][0],z[0][1]),z.forEach((function(t){var e=Object(l.a)(t,2),n=e[0],a=e[1];return L.lineTo(n,a)})),L.closePath());L.toString();return console.log("DP",i),i&&console.log(i.draw()),r.a.createElement("div",{className:e},r.a.createElement("svg",{ref:c,width:s.width,height:s.height,onClick:function(t){var e=t.clientX,a=t.clientY,r=c.current.getBoundingClientRect(),i=r.x,o=r.y,l=K.qTree.find(e-i-s.width/2,a-o-s.height/2);n(l)},onMouseMove:function(t){var e=t.clientX,n=t.clientY;if(P>=0&&"MOVE"===_){var a=c.current.getBoundingClientRect(),r=a.x,i=a.y,o=K.qTree.find(e-r-s.width/2,n-i-s.height/2);if(console.log(o,T[P]),T[P]){var l=T[P].copy().position({ant:o.ant,bat:o.bat,cat:o.cat});console.log(P,T.slice(0,P),T.slice(P+1,T.length)),W([].concat(Object(h.a)(T.slice(0,P)),[l],Object(h.a)(T.slice(P+1,T.length))))}}}},r.a.createElement("g",{transform:"translate(".concat(s.width/2,", ").concat(s.height/2,")")},r.a.createElement(A,{lines:M}),r.a.createElement(F,{points:y,activePoint:g}),T.map((function(t,e){return r.a.createElement(Z,{key:e,kPolygon:t,setActive:function(){return function(t){console.log("ACTIVE",t),j(t)}(e)},setState:X})})))))},tt=n(49),et=function(){return this.pts=[],this.addPoint=function(t){this.pts.push(t),console.log(this.pts)},this.draw=function(){var t=this.pts.map((function(t){return[t.x,t.y]})),e=d.a();return t.length&&(e.moveTo(t[0][0],t[0][1]),t.forEach((function(t){var n=Object(l.a)(t,2),a=n[0],r=n[1];return e.lineTo(a,r)})),e.closePath()),e.toString()},this},nt=function(){var t=Object(a.useState)(null),e=Object(l.a)(t,2),n=(e[0],e[1]),i=Object(a.useState)(null),c=Object(l.a)(i,2),o=c[0],u=c[1];return r.a.createElement("div",{className:"flex mx-auto w-full"},r.a.createElement($,{className:"flex-grow",onClick:function(t){o.addPoint(t)},drawingPoly:o}),r.a.createElement("div",{className:"flex flex-column border rounded p-4"},r.a.createElement(V.a,{className:"hover:text-gray-600 active:text-gray-700",onClick:function(){console.log("create new"),n("CREATE"),u(new et)},icon:tt.a,size:"4x"})))},at=n(154),rt=function(t){var e=t.kGrid,n=e.cWidth,a=e.cHeight;return r.a.createElement("rect",{className:"text-gray-300 stroke-current stroke-2",x:"".concat(-n/2),y:"".concat(-a/2),width:n,height:a,fill:"none"})},it=function(t){var e=t.children,n=t.columns,i=t.rows,c=t.onMouseMove,o=t.onMouseClick,u=Object(a.useState)({width:0,height:0}),s=Object(l.a)(u,2),h=s[0],f=s[1],m=Object(a.useState)(),d=Object(l.a)(m,2),v=d[0],g=d[1],p=Object(a.useRef)();r.a.useEffect((function(){console.log("KGrid useeffect");var t=new O(n,i);g(t),console.log("kgrid",t,p);var e=p.current.parentElement.clientWidth,a=t.setWidth(e-40),r=a.width,c=a.height;f({width:r,height:c})}),[n,i]);var b=h.width,y=h.height;return r.a.createElement("div",{className:"w-full"},r.a.createElement("svg",{ref:p,width:b+40,height:y+40,onMouseMove:function(t){var e=t.clientX,n=t.clientY,a=p.current.getBoundingClientRect(),r=a.x,i=a.y,o=e-r-h.width/2-20,l=n-i-h.height/2-20,u=v.qTree.find(o,l);return c(u)},onClick:function(t){var e=t.clientX,n=t.clientY,a=p.current.getBoundingClientRect(),r=a.x,i=a.y,c=e-r-h.width/2-20,l=n-i-h.height/2-20,u=v.qTree.find(c,l);return o(u)}},b&&r.a.createElement("g",{transform:"translate(".concat(20+b/2,", ").concat(20+y/2,")")},e({kGrid:v}))))},ct=(n(130),n(74)),ot=function(t){var e=t.setAction,n=t.onSave;return r.a.createElement("div",{className:"flex flex-column border rounded p-4"},r.a.createElement(ct.a,{placement:"top",title:"Create Shape"},r.a.createElement(V.a,{className:"hover:text-gray-700 text-gray-800 active:text-gray-600",icon:tt.a,size:"4x",onClick:function(){return e({action:"NEW"})}})),r.a.createElement(ct.a,{placement:"top",title:"Save"},r.a.createElement(V.a,{className:"hover:text-gray-700 text-gray-800 active:text-gray-600",icon:tt.b,size:"4x",onClick:function(){return n()}})))},lt=r.a.memo((function(t){var e=t.kGrid,n=r.a.useMemo((function(){return e.generateGrid()}),[e]);return r.a.createElement(r.a.Fragment,null,n.map((function(t){var e=t.idx,n=t.x,a=t.y;return r.a.createElement("circle",{key:e,cx:n,cy:a,r:2,className:"text-gray-400 fill-current"})})))})),ut=n(235),st=r.a.memo((function(t){var e=t.id,n=t.pts,a=t.color,i=t.closed,c=t.setState,o=t.onDelete,u=t.setColor,s=t.onDuplicate,h=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(d.a)();return t.length&&(n.moveTo(t[0][0],t[0][1]),t.forEach((function(t){var e=Object(l.a)(t,2),a=e[0],r=e[1];return n.lineTo(a,r)})),e&&n.closePath()),n.toString()}(n,i),f=(r.a.createElement(Q.a,null,r.a.createElement(Q.a.Item,{key:"1",onClick:function(){return c({action:"MOVE",data:{id:e}})}},"move"),r.a.createElement(Q.a.Item,{key:"2"},"duplicate")),r.a.createElement(Q.a,null,r.a.createElement(Q.a.Item,{key:"1",onClick:function(){return c({action:"MOVE",data:{id:e}})}},"move"),r.a.createElement(Q.a.Item,{key:"2",onClick:function(){return s(e)}},"duplicate"),r.a.createElement(Q.a.Item,{key:"3",onClick:function(){return o(e)}},"delete"),r.a.createElement(Q.a.SubMenu,{title:"color"},r.a.createElement("div",{className:"flex flex-row flex-wrap",style:{width:100}},ut.a(H).map((function(t){return r.a.createElement("div",{key:t,style:{backgroundColor:t,width:20,height:20},onClick:function(){return u(e,t)}})}))))));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{overlay:f,trigger:["contextMenu"]},r.a.createElement("path",{d:h,stroke:"black",fill:a,fillOpacity:1,strokeWidth:3,strokeLinejoin:"round"})),i||n.map((function(t,e){return r.a.createElement("circle",{key:e,cx:t[0],cy:t[1],r:3})})))})),ht=n(243),ft=n(247),mt=n(246),dt=n(245),vt=n(239),gt=n(240),pt=n(236),bt=n(244),yt=n(237),kt=n(242),Et=n(238),Ot={id:"0",kPts:[[1,0,1,0],[0,-1,1,0],[-1,-1,0,0],[-1,0,-1,0],[0,1,-1,0],[1,1,0,0]].map((function(t){return{ant:t[0],bat:t[1],cat:t[2],dog:t[3]}})),color:"red"},Pt={id:"1",kPts:[[2,4,-2,0],[1,3,-2,0],[0,3,-3,0],[0,4,-4,0],[1,5,-4,0],[2,5,-3,0]].map((function(t){return{ant:t[0],bat:t[1],cat:t[2],dog:t[3]}})),color:"blue"};var jt=vt.a((function(t){return ht.a(ft.a(t),(function(e,n){var a=mt.a(t,n);return dt.a(a,e,n)}))}),gt.a("id")),xt=pt.a((function(t,e){var n=bt.a(e),a=n.kPts[0],r=t.ant-a.ant,i=t.bat-a.bat,c=t.cat-a.cat;return n.kPts=n.kPts.map((function(t){return Object(at.a)({},t,{ant:t.ant+r,bat:t.bat+i,cat:t.cat+c})})),n})),wt=function(){var t=Object(a.useState)((function(){var t=localStorage.getItem("myData");return t?JSON.parse(t):[Ot,Pt]})),e=Object(l.a)(t,2),n=e[0],i=e[1],c=Object(a.useState)({action:null,data:null}),o=Object(l.a)(c,2),u=o[0],s=o[1],f=Object(a.useState)([]),m=Object(l.a)(f,2),d=m[0],v=m[1],g=function(t){i(kt.a((function(e){return e.id!==t}),n))},p=function(t){var e=bt.a(ft.a(gt.a("id",t),n)),a=Math.random().toString(36).slice(2);e.id=a,i(Et.a(e,n)),s({action:"MOVE",data:{id:a}})};console.log("dave");var b=function(t,e){i(yt.a(jt(t),(function(t){var n=bt.a(t);return n.color=e,n}),n))};return r.a.createElement("div",{className:"flex mx-auto w-full"},r.a.createElement("div",{className:"w-10/12 flex items-center justify-center"},r.a.createElement(it,{columns:15,rows:10,onMouseMove:function(t){if("MOVE"===u.action){var e=u.data.id;i(yt.a(jt(e),xt(t),n))}},onMouseClick:function(t){"MOVE"===u.action?s({action:null,data:null}):"NEW"===u.action&&(t===d[0]?(i([].concat(Object(h.a)(n),[{id:Math.random().toString(36).slice(2),kPts:d,color:"green"}])),v([]),s({action:null,data:null})):v((function(e){return[].concat(Object(h.a)(e),[t])})))}},(function(t){var e=t.kGrid;return r.a.createElement(r.a.Fragment,null,r.a.createElement(lt,{kGrid:e}),r.a.createElement(rt,{kGrid:e}),n.map((function(t){return r.a.createElement(st,{key:t.id,id:t.id,pts:t.kPts.map((function(t){var n=t.ant,a=t.bat,r=t.cat,i=t.dog;return e.convertPt({ant:n,bat:a,cat:r,dog:i})})),color:t.color,setState:s,closed:!0,onDelete:g,setColor:b,onDuplicate:p})})),r.a.createElement(st,{id:"new",pts:d.map((function(t){var n=t.ant,a=t.bat,r=t.cat,i=t.dog;return e.convertPt({ant:n,bat:a,cat:r,dog:i})})),color:"green",closed:!1,setState:function(){return console.log("dave")}}))}))),r.a.createElement("div",{className:"w-2/12 flex items-center justify-center"},r.a.createElement(ot,{setAction:s,onSave:function(){localStorage.setItem("myData",JSON.stringify(n))}})))},Mt=function(){var t=Object(a.useState)(!1),e=Object(l.a)(t,2),n=e[0],i=e[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{title:"Kmap",visible:n,footer:null,closable:!1,onCancel:function(){return i(!1)}}),r.a.createElement("div",{className:"text-xl p-3 w-10/12 mx-auto flex justify-between"},r.a.createElement("div",null,r.a.createElement("a",{href:"http://dvreed.com"},"dvreed.com")),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"hover:text-orange-400 cursor-pointer",onClick:function(){return i(!0)}},"About"),r.a.createElement("div",{className:"hover:text-orange-400 cursor-pointer"},r.a.createElement("a",{className:"hover:text-orange-400 cursor-pointer pl-3",href:"https://github.com/dvreed77/kmap"},r.a.createElement(V.a,{className:"hover:text-orange-400 cursor-pointer",color:"black",icon:J.a,size:"lg"}))))))};var St=function(){var t=Object(a.useState)(null),e=Object(l.a)(t,2),n=e[0],i=e[1];return r.a.createElement(u.a,null,r.a.createElement(Mt,null),r.a.createElement("div",{className:"w-10/12 mx-auto flex flex-row"},r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/page1",component:nt}),r.a.createElement(s.a,{path:"/page2",component:wt}),r.a.createElement(s.a,{path:"/"},r.a.createElement(z,{mouseOver:function(t){i(t)}}),n&&r.a.createElement("ul",null,r.a.createElement("li",null,"ANT: ",n.ant),r.a.createElement("li",null,"BAT: ",n.bat),r.a.createElement("li",null,"CAT: ",n.cat),r.a.createElement("li",null,"DOG: ",n.dog))))))};c.a.render(r.a.createElement(St,null),document.getElementById("root"))}},[[160,1,2]]]);
//# sourceMappingURL=main.c334872e.chunk.js.map