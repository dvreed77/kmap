(this["webpackJsonphex-map"]=this["webpackJsonphex-map"]||[]).push([[0],{140:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(72),o=n.n(r),s=(n(87),n(88),n(75)),h=n(6),c=n(35),l="#F20544",u=n(52),v=n(53),d=n(54),f=n.n(d),g=f.a.mark(y),m=Math.sqrt(3),p=function(t){return!!(t%2)};function y(t,e){var n,a,i,r,o,s,h;return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:p(t)?(n=-(t-1)/2-1,a=(t-1)/2+1):(n=-t/2-1,a=t/2+1),p(e)?(i=-(e-1)/2,r=(e-1)/2+1):(i=-e/2,r=e/2+1),o=0,s=n;case 4:if(!(s<a)){c.next=16;break}h=i;case 6:if(!(h<r)){c.next=13;break}return c.next=9,[o,s,h];case 9:o++;case 10:h++,c.next=6;break;case 13:s++,c.next=4;break;case 16:case"end":return c.stop()}}),g)}var E=function(){function t(){Object(u.a)(this,t),this.pts=[],this.lines=[];var e=c.b().x((function(t){return t.x})).y((function(t){return t.y}));this.qTree=e}return Object(v.a)(t,[{key:"intitialize",value:function(t,e){this.width=t,this.height=e,this.setup2()}},{key:"setup1",value:function(){this.N_HEX_COLS=7,this.HEX_W=this.width/this.N_HEX_COLS,this.F=this.HEX_W/(2*m),this.H=this.HEX_W/m,this.G=this.HEX_W/2,this.N_HEX_ROWS=Math.ceil(this.height/(this.F+this.H)),this.createGrid(),this.createLines()}},{key:"setup2",value:function(){this.F=20,this.H=2*this.F,this.G=m*this.F,this.HEX_W=2*this.G,this.N_HEX_COLS=Math.ceil(this.width/this.HEX_W),this.N_HEX_ROWS=Math.ceil(this.height/(this.F+this.H)),this.genGrid()}},{key:"genGrid",value:function(){var t=[],e=[],n=!0,a=!1,i=void 0;try{for(var r,o=y(this.N_HEX_COLS,this.N_HEX_ROWS)[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value,c=Object(h.a)(s,3),l=c[0],u=c[1],v=c[2],d=void 0,f=void 0,g=void 0;p(v)?(d=u*this.HEX_W+this.HEX_W/2+this.width/2,f=(v+1)/2+u,g=(1-v)/2+u):(d=u*this.HEX_W+this.width/2,f=v/2+u,g=u-v/2);for(var m=0;m<6;m++){var E=v,b=m,H=v*(this.F+this.H)+this.height/2,M=void 0,P=void 0;if(0===m)M=0,P=0;else{var k=(-30*m+150)*Math.PI/180;p(m)?(M=this.G*Math.cos(k),P=-this.G*Math.sin(k)):(M=this.H*Math.cos(k),P=-this.H*Math.sin(k))}var O=d+M,x=H+P;t.push({idx:"".concat(l,".").concat(m),i:u,j:v,x:O,y:x,ant:f,bat:g,cat:E,dog:b});for(var _=0;_<12;_++){var w=2*_*Math.PI/12,j=void 0,G=void 0;_%2?(j=this.H*Math.cos(w),G=-this.H*Math.sin(w)):(j=this.G*Math.cos(w),G=-this.G*Math.sin(w)),e.push([[d,H],[d+j,H+G]])}for(var X=0;X<6;X++){var W=(-30*X+150)*Math.PI/180,S=(-30*(X+1)+150)*Math.PI/180,K=void 0,T=void 0,F=void 0,C=void 0;X%2?(K=this.G*Math.cos(W),T=-this.G*Math.sin(W),F=this.H*Math.cos(S),C=-this.H*Math.sin(S)):(K=this.H*Math.cos(W),T=-this.H*Math.sin(W),F=this.G*Math.cos(S),C=-this.G*Math.sin(S)),e.push([[d+K,H+T],[d+F,H+C]])}}}}catch(I){a=!0,i=I}finally{try{n||null==o.return||o.return()}finally{if(a)throw i}}this.qTree.addAll(t),this.pts=t,this.lines=e}},{key:"getGrid",value:function(){return{pts:this.pts,lines:this.lines}}},{key:"convertHexPointToCanvasPoint",value:function(t){var e,n=t.cat;e=n%2?(t.ant-(n+1)/2)*this.HEX_W+this.HEX_W/2+this.width/2:(t.ant-n/2)*this.HEX_W+this.width/2;var a,i,r=3*n*this.HEX_W/(2*m)+this.height/2;if(0===t.dog)a=0,i=0;else{var o=(-30*t.dog+150)*Math.PI/180;t.dog%2?(a=this.G*Math.cos(o),i=-this.G*Math.sin(o)):(a=this.H*Math.cos(o),i=-this.H*Math.sin(o))}return[e+a,r+i]}},{key:"rotateKPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.convertHexPointToCanvasPoint(t),a=n[0]-this.width/2,i=n[1]-this.height/2,r=Math.sqrt(Math.pow(a,2)+Math.pow(i,2)),o=Math.atan2(i,a),s=o+e,h=r*Math.cos(s),c=r*Math.sin(s),l=this.qTree.find(h+this.width/2,c+this.height/2),u=l.ant,v=l.bat,d=l.cat,f=l.dog;return b({ant:u,bat:v,cat:d,dog:f})}},{key:"translateKPoint",value:function(t,e){return b({ant:t.ant-4,bat:t.bat,cat:t.cat-2,dog:t.dog})}},{key:"rotateKPolygon",value:function(t,e){var n=this,a=t.kPoints.map((function(t){return n.rotateKPoint(t,e)}));return new H(a,this)}},{key:"translateKPolygon",value:function(t,e){var n=this,a=t.kPoints.map((function(t){return n.translateKPoint(t,e)}));return new H(a,this)}}]),t}(),b=function(t){return{ant:t.ant,bat:t.bat,cat:t.cat,dog:t.dog}},H=function(){function t(e,n){Object(u.a)(this,t),console.log("KPolygon",e),this.kPoints=e,this.kGrid=n}return Object(v.a)(t,[{key:"draw",value:function(){var t=this,e=c.a(),n=this.kPoints.map((function(e){return t.kGrid.convertHexPointToCanvasPoint(e)}));if(n.length){e.moveTo(n[0][0],n[0][1]);for(var a=0;a<n.length;a++)e.lineTo(n[a][0],n[a][1]);e.closePath()}return e.toString()}}]),t}(),M=[{pts:[[1,0,1,0],[0,-1,1,0],[-1,-1,0,0],[-1,0,-1,0],[0,1,-1,0],[1,1,0,0]],color:"red"},{pts:[[-2,2,-4,0],[-2,0,-2,0],[0,2,-2,0]],color:"green"},{pts:[[-1,1,-2,0],[-2,0,-2,0],[-2,-1,-1,0],[-1,-1,0,3],[-1,0,-1,0],[-1,0,-1,5]],color:"orange"}],P=new E,k=i.a.memo((function(t){var e=t.lines;return i.a.createElement(i.a.Fragment,null,e.map((function(t,e){return i.a.createElement("line",{key:e,x1:t[0][0],y1:t[0][1],x2:t[1][0],y2:t[1][1],stroke:"#eee"})})))})),O=i.a.memo((function(t){var e=t.points,n=t.activePoint;return i.a.createElement(i.a.Fragment,null,e.map((function(t,e){return i.a.createElement("circle",{key:e,cx:t.x,cy:t.y,r:3,fill:t===n?l:"#ddd"})})))})),x=i.a.memo((function(t){var e=t.shapes;return i.a.createElement(i.a.Fragment,null,e.map((function(t,e){var n=t.polygon,a=t.color;return i.a.createElement("path",{key:e,d:n.draw(P),fill:a,fillOpacity:.4,stroke:"black",strokeWidth:3,strokeLinejoin:"round"})})))})),_=function(t){t.gridDensity;var e=t.mouseOver,n=Object(a.useRef)(null),r=Object(a.useState)(null),o=Object(h.a)(r,2),s=o[0],c=o[1],l=Object(a.useState)([]),u=Object(h.a)(l,2),v=u[0],d=u[1],f=Object(a.useState)([]),g=Object(h.a)(f,2),m=g[0],p=g[1],y=Object(a.useState)([]),E=Object(h.a)(y,2),_=E[0],w=E[1],j=function(t){var a=t.x,i=t.y,r=n.current.getBoundingClientRect(),o=r.x,h=r.y,l=P.qTree.find(a-o,i-h);l&&l!==s&&(c(l),e(l))};return Object(a.useEffect)((function(){var t=n.current.clientWidth,e=n.current.clientHeight;P.intitialize(t,e);var a=M.map((function(t){var e=t.pts;return{color:t.color,polygon:new H(e.map((function(t){return b({ant:t[0],bat:t[1],cat:t[2],dog:t[3]})})),P)}}));console.log(P.rotateKPoint({ant:-2,bat:-1,cat:-1,dog:0}));for(var i=1;i<6;i++)a.push({color:a[2].color,polygon:P.rotateKPolygon(a[2].polygon,60*i*Math.PI/180)});for(var r=1;r<3;r++)a.push({color:a[1].color,polygon:P.rotateKPolygon(a[1].polygon,120*r*(Math.PI/180))});var o=a.map((function(t){return{color:t.color,polygon:P.translateKPolygon(P.rotateKPolygon(t.polygon,Math.PI/180*180),{})}}));w(a.concat(o)),P.rotateKPoint({ant:-2,bat:-1,cat:-1,dog:0},60*Math.PI/180);var s=P.getGrid(),h=s.pts,c=s.lines;return d(h),p(c),n.current.addEventListener("mousemove",j),function(){n.current.removeEventListener("mousemove",j)}}),[]),i.a.createElement("div",null,i.a.createElement("svg",{ref:n,width:800,height:500},i.a.createElement(k,{lines:m}),i.a.createElement(O,{points:v,activePoint:s}),i.a.createElement(x,{shapes:_})))};var w=function(){var t=Object(a.useState)(null),e=Object(h.a)(t,2),n=e[0],r=e[1],o=Object(a.useState)(1),c=Object(h.a)(o,2),l=c[0],u=c[1];return i.a.createElement("div",null,i.a.createElement("div",{className:"mx-auto mt-10 shadow flex flex-row w-8/12"},i.a.createElement(_,{gridDensity:l,mouseOver:function(t){r(t)}}),i.a.createElement(s.a,{min:1,max:4,defaultValue:1,onChange:u}),n&&i.a.createElement("ul",null,i.a.createElement("li",null,"ANT: ",n.ant),i.a.createElement("li",null,"BAT: ",n.bat),i.a.createElement("li",null,"CAT: ",n.cat),i.a.createElement("li",null,"DOG: ",n.dog))))};o.a.render(i.a.createElement(w,null),document.getElementById("root"))},82:function(t,e,n){t.exports=n(140)},87:function(t,e,n){}},[[82,1,2]]]);
//# sourceMappingURL=main.92b3a4b8.chunk.js.map